module.exports = class Data1670243654658 {
    name = 'Data1670243654658'

    async up(db) {
        await db.query(`ALTER TABLE "account" DROP CONSTRAINT "FK_02d9e28db0492fce346828f47de"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_0751309c66e97eac9ef11493623"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_1e3ff475fd6efb0558d29829352"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_12251bf02a651c0cc26e8fe7e26"`)
        await db.query(`DROP INDEX "public"."IDX_02d9e28db0492fce346828f47d"`)
        await db.query(`DROP INDEX "public"."IDX_0751309c66e97eac9ef1149362"`)
        await db.query(`DROP INDEX "public"."IDX_76bdfed1a7eb27c6d8ecbb7349"`)
        await db.query(`DROP INDEX "public"."IDX_1e3ff475fd6efb0558d2982935"`)
        await db.query(`DROP INDEX "public"."IDX_12251bf02a651c0cc26e8fe7e2"`)
        await db.query(`ALTER TABLE "account" RENAME COLUMN "block_id_id" TO "block_id"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "event_id"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "to_id"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "from_id"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "block_id_id"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "token_contract_id"`)
        await db.query(`ALTER TABLE "transfer" ADD "block_id" character varying`)
        await db.query(`DROP INDEX "public"."IDX_06f5863364b6acc2e315ceba39"`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "extrinsic_id"`)
        await db.query(`ALTER TABLE "transfer" ADD "extrinsic_id" text NOT NULL`)
        await db.query(`CREATE INDEX "IDX_d9c630ee6c2f1bcc56e46bab5a" ON "account" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_2699bb80b8c7c68d263fab954b" ON "transfer" ("block_id") `)
        await db.query(`CREATE INDEX "IDX_06f5863364b6acc2e315ceba39" ON "transfer" ("extrinsic_id") `)
        await db.query(`ALTER TABLE "account" ADD CONSTRAINT "FK_d9c630ee6c2f1bcc56e46bab5a8" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_2699bb80b8c7c68d263fab954b0" FOREIGN KEY ("block_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
    }

    async down(db) {
        await db.query(`ALTER TABLE "account" ADD CONSTRAINT "FK_02d9e28db0492fce346828f47de" FOREIGN KEY ("block_id_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_0751309c66e97eac9ef11493623" FOREIGN KEY ("to_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_76bdfed1a7eb27c6d8ecbb73496" FOREIGN KEY ("from_id") REFERENCES "account"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_1e3ff475fd6efb0558d29829352" FOREIGN KEY ("block_id_id") REFERENCES "block"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`ALTER TABLE "transfer" ADD CONSTRAINT "FK_12251bf02a651c0cc26e8fe7e26" FOREIGN KEY ("token_contract_id") REFERENCES "contract"("id") ON DELETE NO ACTION ON UPDATE NO ACTION`)
        await db.query(`CREATE INDEX "IDX_02d9e28db0492fce346828f47d" ON "account" ("block_id_id") `)
        await db.query(`CREATE INDEX "IDX_0751309c66e97eac9ef1149362" ON "transfer" ("to_id") `)
        await db.query(`CREATE INDEX "IDX_76bdfed1a7eb27c6d8ecbb7349" ON "transfer" ("from_id") `)
        await db.query(`CREATE INDEX "IDX_1e3ff475fd6efb0558d2982935" ON "transfer" ("block_id_id") `)
        await db.query(`CREATE INDEX "IDX_12251bf02a651c0cc26e8fe7e2" ON "transfer" ("token_contract_id") `)
        await db.query(`ALTER TABLE "account" RENAME COLUMN "block_id" TO "block_id_id"`)
        await db.query(`ALTER TABLE "transfer" ADD "event_id" integer NOT NULL`)
        await db.query(`ALTER TABLE "transfer" ADD "to_id" character varying`)
        await db.query(`ALTER TABLE "transfer" ADD "from_id" character varying`)
        await db.query(`ALTER TABLE "transfer" ADD "block_id_id" character varying`)
        await db.query(`ALTER TABLE "transfer" ADD "token_contract_id" character varying`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "block_id"`)
        await db.query(`CREATE INDEX "IDX_06f5863364b6acc2e315ceba39" ON "transfer" ("extrinsic_id") `)
        await db.query(`ALTER TABLE "transfer" ADD "extrinsic_id" integer NOT NULL`)
        await db.query(`ALTER TABLE "transfer" DROP COLUMN "extrinsic_id"`)
        await db.query(`DROP INDEX "public"."IDX_d9c630ee6c2f1bcc56e46bab5a"`)
        await db.query(`DROP INDEX "public"."IDX_2699bb80b8c7c68d263fab954b"`)
        await db.query(`DROP INDEX "public"."IDX_06f5863364b6acc2e315ceba39"`)
        await db.query(`ALTER TABLE "account" DROP CONSTRAINT "FK_d9c630ee6c2f1bcc56e46bab5a8"`)
        await db.query(`ALTER TABLE "transfer" DROP CONSTRAINT "FK_2699bb80b8c7c68d263fab954b0"`)
    }
}
